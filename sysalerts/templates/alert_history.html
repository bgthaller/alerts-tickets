{% extends "home.html" %}
{% load crispy_forms_tags %}
{% load static %}


{% block content %}

<link href="https://cdn.jsdelivr.net/npm/simple-datatables@latest/dist/style.css" rel="stylesheet" />
   
<link href="{%static 'sysalerts/css/sysalerts.css'%}" rel="stylesheet" /> 
   

<style>
    @media 
      only screen and (max-width: 760px),
      (min-device-width: 768px) and (max-device-width: 1024px)
    {
    td:nth-of-type(1):before { content: "Sub"; }
    td:nth-of-type(2):before { content: "Feeder"; }
    td:nth-of-type(3):before { content: "Location"; }
    td:nth-of-type(4):before { content: "Date Created"; }
    td:nth-of-type(5):before { content: "Date Edited"; }
    td:nth-of-type(6):before { content: "Date Completed"; }
    td:nth-of-type(7):before { content: "User"; }
    td:nth-of-type(8):before { content: "Description"; }
    td:nth-of-type(9):before { content: "Alert ID"; }
    }
   
  </style>

<body class="sb-nav-fixed">
   
   
        <div id="layoutSidenav_content">
            <main>
                <div class="container-fluid px-4">
                   
                   
                        <h1 class="mt-4">System Abnormal Conditions History</h1>
                   
                   
                </div>
                <div class="row pb-2">
                     

                    <div class="col">                        
                        <a href="{% url 'sysalerts:alert_list' %}"  class="btn btn-outline-info btn-lg float-end m-1 ">Return to list</a>                                                                                                                                            
                    </div>
                   
                   

             
                    <div class="card mb-4">
                        <div class="card-header">
                            <i class="fas fa-table me-1"></i>
                           Alert History
                        </div>
                        <div class="card-body">
                            <div class="table-responsive "style="max-height: 500px;">
                                <table id="datatablesSimple" >
                                    <thead>
                                        <tr class='max-width: 100%'>
                                            <th>Substation</th>
                                            <th>Feeder</th>
                                            <th>Location</th>
                                            <th>Date Created</th>
                                            <th>Date Edited</th>
                                            <th>Date Completed</th>
                                            <th>User</th>                                                                                                                 
                                            <th>Description</th>    
                                            <th>Alert ID</th>                               
                                            <th></th>
                                            <th></th>                                            
                                        </tr>
                                    </thead>
                                
                                    <tbody>
                                    
                                        {%for item in history %}

                                        <tr>
                                            <td>{{item.Sub}} </td> 
                                            <td>{{item.feeder}} </td>                                                                                                                                                                          
                                            <td>{{item.location}}</td>
                                            <td>{{item.date_created}}</td>
                                            <td>{{item.date_edited}} </td>
                                            <td>{{item.date_completed}} </td>
                                            <td>{{item.user_name}}</td>                                                                                   
                                            <td>{{item.description}}</td>
                                            <td>{{item.id}}</td>                                           
                                         

                                        </tr>
                                        {%endfor%}    
                                
                                    </tbody>
                                </table>
                            <!-- </div> -->
                        </div>
                    </div>
                </div>
            </main>
    
        </div>
    </div>

   
 
    <script src="{%static 'blog/js/scripts.js'%}"></script>    
    <script src="https://cdn.jsdelivr.net/npm/simple-datatables@latest" crossorigin="anonymous"></script>
    <script src="{% static 'blog/js/datatables-simple-demo.js'%}"></script>
    <script src="{%static 'sysalerts/js/sysalerts.js'%}"></script>

    
</body>
</html>

{% endblock %}
